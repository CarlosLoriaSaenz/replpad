{"body":"# replpad [![build status](https://secure.travis-ci.org/thlorenz/replpad.png)](http://next.travis-ci.org/thlorenz/replpad)\r\n\r\nPipes content of files to a node repl whenever they change to enable a highly interactive coding experience.\r\n\r\nAdds keymaps, doc access, vim binding and maps and prints highlighted source of functions right in the repl.\r\n\r\n![tty](https://github.com/thlorenz/replpad/raw/master/assets/tty.jpg)\r\n\r\n## Features\r\n\r\n- **watches all `*.js` files** inside `root` and all subdirectories and sources a file to the repl once it changes\r\n- **highlights source code**, i.e. `require('fs').readFile.src`\r\n- **access core module docs in the repl** via the `dox()` function that is added to every core function, i.e. `fs.readdir.dox()`\r\n- **adds commands and keyboard shortcuts** \r\n- **vim key bindings**\r\n- **key map support**\r\n- **parens matching** via match token plugin\r\n- **appends code entered in repl back to file** via keyboard shortcut or `.append` command\r\n- **adjusts `__filename`, `__dirname` and `require`** to work for the file that is being sourced \r\n- ensures sourced code is parsable on a line by line basis before sending to repl by rewriting it\r\n- exposes `module.exports` of last sourced file as `$`\r\n- exposes the underlying repl as `$repl` in order to allow further customizations\r\n\r\nCheck out this [demo](http://youtu.be/AuGPd-AAl-8) to get an idea about what it is capable of. (only a subset of\r\nfeatures are shown)\r\n\r\n**Table of Contents**  *generated with [DocToc](http://doctoc.herokuapp.com/)*\r\n\r\n- [Installation](#installation)\r\n- [Usage](#usage)\r\n- [Commands](#commands)\r\n- [Keyboard Shortcuts](#keyboard-shortcuts)\r\n- [Smart Append](#smart-append)\r\n- [Plugins ](#plugins)\r\n    - [Vim](#vim)\r\n        - [Vim Bindings](#vim-bindings)\r\n        - [Vim like key maps](#vim-like-key-maps)\r\n        - [Limitations](#limitations)\r\n    - [match token](#match-token)\r\n- [Using replpad with the Vim Editor](#using-replpad-with-the-vim-editor)\r\n- [Configuring replpad](#configuring-replpad)\r\n- [Roadmap](#roadmap)\r\n\r\n## Installation\r\n\r\n    npm install -g replpad\r\n\r\n## Usage\r\n\r\n    replpad [path/to/root]\r\n\r\nIf `path/to/root` is omitted then no files are watched.\r\n\r\n**Example:** `replpad .` watches current directory and all sub directories.\r\n\r\n\r\n## Commands\r\n\r\nSome commands were added to the built in `repl` commands. Here is a list of all of them:\r\n\r\n```\r\npad > .help\r\n.append         Appends the last entered parsable chunk of code or the last line to the last file that was sourced in the repl\r\n\r\n.clear          Break, and also clear the local context\r\n\r\n.compact        [on] Toggles if code is compacted before being sourced to the repl\r\n\r\n.depth          [2] Sets the depth to which an object is traversed when printed to the repl\r\n\r\n.exit           Exit the repl\r\n\r\n.help           Show this list of repl commands\r\n\r\n.hidden         [off] Set whether hidden properties are included during traversal of an object that is printed to the repl\r\n\r\n.highlight      [off] Toggles if syntax highlighted code is printed to the repl before being sourced\r\n\r\n.load           Load JS from a file into the REPL session\r\n\r\n.save           Save all evaluated commands in this REPL session to a file\r\n```\r\n\r\n**Note:** commands that toggle a setting like `.compact` take a second parameter: `on|off`. If it is ommitted the state\r\nis toggled, i.e if it was `on` it is turned `off` and vice versa.\r\n\r\n**Note:** when code is syntax highlighted, it is still followed by the compacted code which is necessary in order to\r\nhave the repl evaluate it.\r\n\r\nYou can add commands to the repl in real time via `$repl.defineCommand`\r\n\r\n```js\r\n$repl.define('sayhi', { \r\n    help: 'Says hi via .sayhi'\r\n  , action: function () { console.log('Hi!') }\r\n})\r\n```\r\n\r\n## Keyboard Shortcuts\r\n\r\n- `Ctrl-L` clears the terminal\r\n- `Ctrl-D` exits replpad\r\n- `Ctrl-A` Appends the **last entered** parsable chunk of code or the last line to the **last file** that was sourced in the repl.\r\n\r\n## Smart Append\r\n\r\nWhen the `.append` command or the append keyboard shortcut is executed, `replpad` will attempt to find a parsable chunk\r\nof code to append. If the last line is parsable or no parsable chunk is found, it will append the last line.\r\n\r\n**Example:**\r\n\r\nAssume we entered:\r\n```js\r\n2 + 3\r\nfunction foo() {\r\n  var a = 2;\r\n  return a;\r\n}\r\n```\r\n\r\nThe first valid JavaScript are the last 4 lines combined. Therefore the entire function `foo` will be appended. This is\r\nmakes more sense than appending just `}` for instance.\r\n\r\nAdditionally the code is reformatted with 2 space indents.\r\n\r\n## Plugins \r\n\r\nPlugins can be enabled/disabled in the lower portion of the replpad config file\r\n([default](https://github.com/thlorenz/replpad/blob/master/config/default-config.js).\r\n\r\nThe following plugins are available.\r\n\r\n### Vim\r\n\r\n#### Vim Bindings\r\n\r\nIf enabled, a subset of vim bindings are added to `replpad` via [readline-vim](https://github.com/thlorenz/readline-vim).\r\n\r\nConsult its readme for [available vim bindings](https://github.com/thlorenz/readline-vim#vim-bindings).\r\n\r\n#### Vim like key maps\r\n\r\n`replpad` allows you to specify keymaps. \r\n\r\n`imap` is used to map keys in **insert** mode and `nmap` to map keys in **normal** mode.\r\n\r\n```js\r\n// map 'ctrl-t' to 'esc', allowing to switch to normal mode via 'ctrl-t'\r\n$repl.imap('ctrl-t', 'esc'); \r\n\r\n// go forward in history via 'ctrl-space' in normal mode\r\n$repl.nmap('ctrl-space', 'j')\r\n```\r\nYou can list all registered mappings via: `$repl.maps`.\r\n\r\nThese are handled by [readline-vim](https://github.com/thlorenz/readline-vim), so in order to learn more please read\r\n[this section](https://github.com/thlorenz/readline-vim#mappings).\r\n\r\nYou can also declare mappings to be applied at startup by including them inside the map section of your config file as\r\nexplained in [configuring replpad](#configuring-replpad).\r\n\r\n#### Limitations\r\n\r\nMappings are limited by what the underlying nodejs `readline` supports. Consult [this\r\nsection](https://github.com/thlorenz/stringify-key#limitations) for more information.\r\n\r\nIn general I found that only a few mappings in `normal` mode have the desired effect. In `insert` mode things are\r\nsomewhat better.\r\n\r\n### match token\r\n\r\nIf enabled, it will match parens, braces, brackets and quotes by jumping the cursor to the matching token [emacs\r\nstyle](http://www.delorie.com/gnu/docs/emacs/emacs_284.html).\r\n\r\n## Using replpad with the Vim Editor\r\n\r\n- in order to auto update your file whenever you append a repl line to it, you need to `:set autoread`\r\n- in case you are using terminal vim, autoread is not working great, so you should add the\r\n  [WatchFile](http://vim.wikia.com/wiki/Have_Vim_check_automatically_if_the_file_has_changed_externally) script to your\r\n  vim configuration\r\n\r\n## Configuring replpad\r\n\r\n`replpad` is fully configurable. \r\n\r\nWhen launched for the first time it creates a config file at `~/.config/replpad/config.js`. Initially this is a copy of\r\nthe [default-config](https://github.com/thlorenz/replpad/blob/master/config/default-config.js), but you can edit it to\r\nchange these defaults.\r\n\r\nReading the comments in that file should give you enough information to tweak it.\r\n\r\n## Roadmap\r\n\r\n- more vim bindings\r\n- only pipe part of a file enclosed by `start/stop` comments\r\n- jsdoc support\r\n- highlight matching paren/brace/bracket/quote\r\n- pause/resume feeding files via command\r\n- list an object's properties by type (i.e. `Function`, `Object`, `String`)\r\n\r\n","name":"replpad","tagline":"Pipes content of files to a node repl whenever they change to enable a highly interactive coding experience.","note":"Don't delete this file! It's used internally to help with page regeneration.","google":"UA-32151587-4"}